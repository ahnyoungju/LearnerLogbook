<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Learner Log Book</title>
  <link rel="stylesheet" href="themes/Learner.min.css" />
  <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <link rel="stylesheet" href="css/learner.css" />
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <script>
  // Load google charts
  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);

  // Draw the chart and set the chart values
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Task', 'Practice Hours'],
      ['Night',12],
      ['Day', 20],
      ['Remained',68]
    // ['Task', 'Hours per Day'],
    // ['Work', 8],
    // ['Friends', 2],
    // ['Eat', 2],
    // ['TV', 3],
    // ['Gym', 2],
    // ['Sleep', 7]
  ]);

    // Optional; add a title and set the width and height of the chart
    var options = {'title':'My Practice Hours',
                   'width':500, 'height':400,
                    colors: ['#2d89ef', '#ee1111', '#eff4ff'],
                  //  pieSliceTextStyle: {
                  //    color: 'black',
                  //   },
                  // legend: 'What',
                  // pieHole: 0.5
                   is3D:true
                 };

    // Display the chart inside the <div> element with id="piechart"
    var chart = new google.visualization.PieChart(document.getElementById('pie'));
    chart.draw(data, options);
  }
  </script>
  <style>
  table {
    font-size:0.8em;
    font-weight:normal;
  }
  </style>
</head>

<body>
  <div data-role="header" data-position="fixed" data-theme="c">
  	<a href="#popupMenu" data-rel="popup" data-transition="slideup" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-bars ui-btn-icon-notext ui-btn-inline ui-nodisc-icon ui-alt-icon" id="nav-icon"></a><h1>Summary</h1>
  </div>
  <div data-role="main" class="ui-content">
    <!-- <h3 class="ui-bar ui-bar-a ui-corner-all">Practice Chart</h3> -->
    <div class="ui-body ui-bodi-a ui-corner-all center">
      <div id="pie"></div>
      <!-- <canvas id="pie" class="center"></canvas> -->
    </div>

    <h1>Practice History</h1>
    <table data-role="table" id="history-table" data-mode="columntoggle" class="ui-responsive table-stroke">
      <thead>
        <tr>
          <th data-priority="1" id="sortSuper">Supervisor</th>
          <th data-priority="2" id="sortVehicle">Vehicle</th>
          <th id="sortStart">Start Date/Time</th>
          <th data-priority="4">Finish Date/Time</th>
          <th data-priority="3">Duration</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Youngju Ahn</td>
          <td>VIC-123</td>
          <td>2018/02/13 10:00AM</td>
          <td>2018/02/13 11:00AM</td>
          <td>1:00</td>
        </tr>
        <tr>
          <td>Chungbo Chung</td>
          <td>VIC-456</td>
          <td>2018/02/15 7:00PM</td>
          <td>2018/02/15 8:30PM</td>
          <td>1:30</td>
        </tr>
        <tr>
          <td>Youngju Ahn</td>
          <td>VIC-123</td>
          <td>2018/02/18 11:00AM</td>
          <td>2018/02/18 11:30AM</td>
          <td>0:30</td>
        </tr>
      </tbody>

    </table>

  </div>
  <div data-role="footer" data-position="fixed" data-theme="c">
    <div data-role="navbar">
      <ul>
        <li><a href="index.html" rel="external" data-icon="home">Home</a></li>
        <li><a href="register.html" rel="external" data-icon="user">Register</a></li>
        <li><a href="logbook.html" rel="external" data-icon="edit">Log Book</a></li>
        <li><a href="summary.html" rel="external" data-icon="bullets">Summary</a></li>
        <li><a href="#" data-icon="info">Info</a></li>
      </ul>
    </div>
	</div>
  <div data-role="panel" id="popupMenu" data-theme="e">
    <ul data-role="listview" data-inset="true" style="min-width:210px;">
      <li data-role="list-divider">Menu</li>
      <li><a href="index.html" rel="external">Home</a></li>
      <li><a href="register.html" rel="external">Register</a></li>
      <li><a href="logbook.html" rel="external">Log Book</a></li>
      <li><a href="summary.html" rel="external">Summary</a></li>
      <li><a href="login.html" rel="external" data-rel="dialog" data-transition="pop">Logout</a></li>
    </ul>
  </div>
</body>
<script>
$("#sortSuper").click( function(){
  sortTable(0);
});
$("#sortVehicle").click( function(){
  sortTable(1);
});
$("#sortStart").click( function(){
  sortTable(2);
});

function sortTable(n) {
  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  table = document.getElementById("history-table");
  switching = true;
  // Set the sorting direction to ascending:
  dir = "asc";
  /* Make a loop that will continue until
  no switching has been done: */
  while (switching) {
    // Start by saying: no switching is done:
    switching = false;
    rows = table.getElementsByTagName("TR");
    /* Loop through all table rows (except the
    first, which contains table headers): */
    for (i = 1; i < (rows.length - 1); i++) {
      // Start by saying there should be no switching:
      shouldSwitch = false;
      /* Get the two elements you want to compare,
      one from current row and one from the next: */
      x = rows[i].getElementsByTagName("TD")[n];
      y = rows[i + 1].getElementsByTagName("TD")[n];
      /* Check if the two rows should switch place,
      based on the direction, asc or desc: */
      if (dir == "asc") {
        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
          // If so, mark as a switch and break the loop:
          shouldSwitch= true;
          break;
        }
      } else if (dir == "desc") {
        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
          // If so, mark as a switch and break the loop:
          shouldSwitch= true;
          break;
        }
      }
    }
    if (shouldSwitch) {
      /* If a switch has been marked, make the switch
      and mark that a switch has been done: */
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
      // Each time a switch is done, increase this count by 1:
      switchcount ++;
    } else {
      /* If no switching has been done AND the direction is "asc",
      set the direction to "desc" and run the while loop again. */
      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
}

</script>
</html>
